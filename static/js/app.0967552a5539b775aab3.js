webpackJsonp([1],{"1uuo":function(t,e){},NHOo:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),r=i("Gu7T"),o=i.n(r),a=i("Zrlr"),s=i.n(a),c=i("vc5n"),h=i.n(c),l={name:"context-menu",props:{id:{type:String,default:"default-ctx"}},data:function(){var t=this;return{locals:{},align:"left",ctxTop:0,ctxLeft:0,ctxVisible:!1,bodyClickListener:h()(function(e){if(!!t.ctxVisible&&!t.$el.contains(e.target)){if(1!==e.which)return e.preventDefault(),e.stopPropagation(),!1;t.ctxVisible=!1,t.$emit("ctx-cancel",t.locals),e.stopPropagation()}})}},methods:{setPositionFromEvent:function(t){var e=this;t=t||window.event;var i=document.scrollingElement||document.documentElement;return t.pageX||t.pageY?(this.ctxLeft=t.pageX,this.ctxTop=t.pageY-i.scrollTop):(t.clientX||t.clientY)&&(this.ctxLeft=t.clientX+i.scrollLeft,this.ctxTop=t.clientY+i.scrollTop),this.$nextTick(function(){var t=e.$el,i=(t.style.minHeight||t.style.height).replace("px","")||32,n=(t.style.minWidth||t.style.width).replace("px","")||32,r=t.scrollHeight||i,o=t.scrollWidth||n,a=window.innerHeight-r-25,s=window.innerWidth-o-25;e.ctxTop>a&&(e.ctxTop=a),e.ctxLeft>s&&(e.ctxLeft=s)}),t},open:function(t,e){return this.ctxVisible&&(this.ctxVisible=!1),this.ctxVisible=!0,this.$emit("ctx-open",this.locals=e||{}),this.setPositionFromEvent(t),this.$el.setAttribute("tab-index",-1),this.bodyClickListener.start(),this}},watch:{ctxVisible:function(t,e){!0===e&&!1===t&&this.bodyClickListener.stop(function(t){})}},computed:{ctxStyle:function(){return{display:this.ctxVisible?"block":"none",top:(this.ctxTop||0)+"px",left:(this.ctxLeft||0)+"px"}}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"contextMenu",staticClass:"ctx-menu-container",style:this.ctxStyle,attrs:{id:this.id},on:{click:function(t){t.stopPropagation()},contextmenu:function(t){t.stopPropagation()}}},[e("div",{staticClass:"ctx open",staticStyle:{"background-color":"transparent"}},[e("ul",{staticClass:"ctx-menu",class:{"ctx-menu-right":"right"===this.align,"ctx-menu-left":"left"===this.align},attrs:{role:"menu"}},[this._t("default")],2)])])},staticRenderFns:[]};var g=function t(e,i,n,r,o){s()(this,t),this.id=e,this.name=i,this.defaultName=n,this.height=r,this.heightString=r.toFixed(3)+"",this.beforeHeight=0,this.locked=!1},d={name:"App",components:{"context-menu":i("VU/8")(l,u,!1,function(t){i("b/7p")},null,null).exports},data:function(){return{criteria:[],currentCriterion:{id:0,name:"",defaultName:"",height:0},addingCriterion:{id:0,name:"",defaultName:"",height:0},columnHeight:500,allUnlocked:!1,screen:0,lockedCount:0}},methods:{addCriterion:function(){if(this.criteria.length<9){var t=new g(this.addingCriterion.id,this.addingCriterion.name,this.addingCriterion.defaultName,1/(this.criteria.length+1));this.criteria.push(t),this.updateWeights(t),this.addingCriterion={id:this.criteria.length+1,name:"",defaultName:"Критерій "+(this.criteria.length+1),height:0}}},clear:function(){this.criteria=[],this.allUnlocked=!1,this.init()},init:function(){for(var t=0;t<2;t++){var e=new g(this.criteria.length+1,"","Критерій "+(this.criteria.length+1),1/(this.criteria.length+1));this.criteria.push(e),this.updateWeights(e)}this.addingCriterion={id:this.criteria.length+1,name:"",defaultName:"Критерій "+(this.criteria.length+1),height:0}},changeWeight:function(t,e){var i=0;if(!e.locked&&this.lockedCount!=this.criteria.length-1){var n=t.currentTarget.getBoundingClientRect(),r=(t.currentTarget.clientHeight-(t.clientY-n.top+t.currentTarget.clientTop))/t.currentTarget.clientHeight;r=(r=r>1?1:r)<0?0:r,this.criteria.forEach(function(t,n,r){t.locked&&t!=e&&(i+=t.height)}),r=r<=1-i?r:1-i,e.height=r,e.heightString=r.toFixed(3)+"",this.allUnlocked,this.updateWeights(e)}},scrollWeight:function(t,e){if(t.preventDefault(),!e.locked&&this.lockedCount!=this.criteria.length-1){var i=0;this.criteria.forEach(function(t,n,r){t.locked&&t!=e&&(i+=t.height)});var n=e.height-=(t.deltaY/4e3).toFixed(3);n=(n=(n=n>1?1:n)<0?0:n)<=1-i?n:1-i,e.height=n,e.heightString=n.toFixed(3)+"",this.updateWeights(e)}},updateWeights:function(t){var e=0,i=0,n=0;this.criteria.forEach(function(r,o,a){r.locked||r==t?e+=r.height:i+=r.height,r.locked||n++}),0==n&&(this.allUnlocked=!0,this.criteria.forEach(function(t,e,i){t.locked=!1}));this.criteria.forEach(function(r,o,a){r.locked||r==t||(r.height=0==i?0==n?r.height:(1-e)/n:(1-e)/i*r.height,r.height=r.height>1?1:r.height,r.height=r.height<0?0:r.height,r.heightString=r.height.toFixed(3)+"",0,r.height,r.beforeHeight=r.height)}),t.beforeHeight=t.height;var r=this.criteria.filter(function(e,i,n){return!e.locked&&e!=t}).sort(function(t,e){return t.height>e.height?1:t.height<e.height?-1:0})[0];if(void 0!==r){var o=0;this.criteria.forEach(function(t,e,i){t!=r&&(o+=parseFloat(t.height.toFixed(3)))}),r.height=1-o.toFixed(3)}},toggleLock:function(t){t.locked=!t.locked,this.lockedCount+=t.locked?1:-1},contextMenu:function(t,e){this.currentCriterion=e,this.$refs.criterionMenu.open(t)},heightInput:function(t){parseFloat(t.heightString)>1&&(t.heightString="1"),parseFloat(t.heightString)<0&&(t.heightString="0"),"0."==t.heightString&&"0,"==t.heightString||(t.heightString=parseFloat(t.heightString));var e=0;this.criteria.forEach(function(i,n,r){i.locked&&i!=t&&(e+=i.height)});var i=parseFloat(""==t.heightString?0:t.heightString);i=(i=(i=i>1?1:i)<0?0:i)<=1-e?i:1-e,t.height=i,this.updateWeights(t)},onClick:function(t){},result:function(){this.screen=1}},created:function(){this.init()},computed:{sortResult:function(){return[].concat(o()(this.criteria)).sort(function(t,e){return t.height>e.height?-1:t.height<e.height?1:0})}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("h1",{staticClass:"title"},[t._v("Візуальний квантифікатор важливості критеріїв (ВКВК)")]),t._v(" "),0==t.screen?i("div",{staticClass:"screen-1"},[i("div",{staticClass:"buttons-wrap"},[i("button",{staticClass:"button add-criteria",on:{click:function(e){t.$refs.addCriterionMenu.open()}}},[t._v("Додати критерії")]),t._v(" "),i("button",{staticClass:"button clear",on:{click:t.clear}},[t._v("Очистити")]),t._v(" "),i("button",{staticClass:"button result",on:{click:t.result}},[t._v("Результат")])]),t._v(" "),i("div",{staticClass:"criteria-columns"},t._l(t.criteria,function(e){return i("div",{staticClass:"criteria-column"},[i("div",{staticClass:"weight-column",style:{height:t.columnHeight+"px"},attrs:{title:e.name},on:{click:function(i){t.changeWeight(i,e)},dblclick:function(i){t.toggleLock(e)},contextmenu:function(i){i.preventDefault(),t.contextMenu(i,e)},wheel:function(i){t.scrollWeight(i,e)}}},[i("div",{staticClass:"weight-bar",style:{height:100*e.height+"%",background:e.locked?"#ff254b":"#3f90ea"}},[i("div",{staticClass:"criterion-weight"},[t._v(t._s((e.height/1).toFixed(3)))]),t._v(" "),i("div",{staticClass:"criterion-id"},[t._v("Q"),i("sub",[t._v(t._s(e.id))])])])])])})),t._v(" "),i("context-menu",{ref:"addCriterionMenu",scopedSlots:t._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"options"},[i("div",{staticClass:"form-group"},[i("label",[t._v("Q"),i("sub",[t._v(t._s(t.addingCriterion.id))])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.addingCriterion.name,expression:"addingCriterion.name"}],staticClass:"criterion-name",attrs:{type:"text",placeholder:t.addingCriterion.defaultName,maxlength:"30"},domProps:{value:t.addingCriterion.name},on:{input:function(e){e.target.composing||t.$set(t.addingCriterion,"name",e.target.value)}}})]),t._v(" "),i("button",{staticClass:"addButton",on:{click:function(e){t.addCriterion()}}},[t._v("Додати")]),t._v(" "),i("li")])]}}])}),t._v(" "),i("context-menu",{ref:"criterionMenu",scopedSlots:t._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"options"},[i("div",{staticClass:"form-group"},[i("label",[t._v("Q"),i("sub",[t._v(t._s(t.currentCriterion?t.currentCriterion.id:0))])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCriterion.name,expression:"currentCriterion.name"}],staticClass:"criterion-name",attrs:{type:"text",placeholder:t.currentCriterion.defaultName,maxlength:"30"},domProps:{value:t.currentCriterion.name},on:{input:function(e){e.target.composing||t.$set(t.currentCriterion,"name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"heightForm"},[i("label",[t._v("Ваговий коефіцієнт")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCriterion.heightString,expression:"currentCriterion.heightString"}],staticClass:"criterion-name",attrs:{type:"number",step:"0.001",min:"0",max:"1",placeholder:"Ваговий коефіцієнт"},domProps:{value:t.currentCriterion.heightString},on:{input:[function(e){e.target.composing||t.$set(t.currentCriterion,"heightString",e.target.value)},function(e){t.heightInput(t.currentCriterion)}]}})]),t._v(" "),i("button",{staticClass:"lockButton",style:{background:t.currentCriterion.locked?"#3f90ea":"#ff254b"},on:{click:function(e){t.toggleLock(t.currentCriterion)}}},[t._v(t._s(t.currentCriterion.locked?"Розблокувати":"Заблокувати"))]),t._v(" "),i("li")])]}}])})],1):t._e(),t._v(" "),1==t.screen?i("div",[i("table",{staticClass:"result-table"},t._l(t.sortResult,function(e){return i("tr",[i("td",{staticStyle:{width:"30%","text-align":"right","margin-right":"10px"}},[t._v("Q"),i("sub",[t._v(t._s(e.id))]),t._v(" "+t._s(""==e.name?e.defaultName:e.name))]),t._v(" "),i("td",{staticStyle:{width:"50%"}},[i("div",{staticClass:"result-bar",style:{width:100*e.height+"%"}})]),t._v(" "),i("td",{staticStyle:{width:"20%"}},[t._v("\n             "+t._s(e.height.toFixed(3))+"\n          ")])])})),t._v(" "),i("button",{staticClass:"button back",on:{click:function(e){t.screen=0}}},[t._v("Повернутись")])]):t._e()])},staticRenderFns:[]};var v=i("VU/8")(d,f,!1,function(t){i("NHOo")},null,null).exports,p=i("/ocq"),m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),i("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),i("br"),t._v(" "),i("li",[i("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var _=i("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},m,!1,function(t){i("1uuo")},"data-v-d8ec41bc",null).exports;n.a.use(p.a);var C=new p.a({routes:[{path:"/",name:"HelloWorld",component:_}]}),x=i("gBx8"),k=i.n(x);n.a.config.productionTip=!1,n.a.use(k.a),new n.a({el:"#app",router:C,components:{App:v},template:"<App/>"})},"b/7p":function(t,e){},vc5n:function(t,e){t.exports=function(t){var e=!1;return{get isListening(){return e},start:function(t){window.addEventListener("click",i,!0),window.addEventListener("keyup",n,!0),e=!0,"function"==typeof t&&t()},stop:function(t){window.removeEventListener("click",i,!0),window.removeEventListener("keyup",n,!0),e=!1,"function"==typeof t&&t()}};function i(e){e.preventDefault(),"function"==typeof t&&t(e)}function n(t){27===t.keyCode&&i(t)}}}},["NHnr"]);
//# sourceMappingURL=app.0967552a5539b775aab3.js.map